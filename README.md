# Админпанель

https://dashboard-portfolio.pp.ua/posts

### Проект не закончен!!!

Использовался:
  - Laravel 8;
  - MySQL 8;

## Backend

Спроектировал базу данных. Структура таблиц выглядит так:

![image](https://user-images.githubusercontent.com/65047316/137353185-ed37b419-9328-45c7-b006-aaa604f8663a.png)

Из структуры видно что пользователи будут иметь только одну роль, категории будут одноуровневые, посты с тегами имеют связь многие ко многим.
Структура таблиц и поля не окончательные, в процессе работы над проектом, возможно будут добавляться новые поля, или редактироватсья связи.

В Laravel для удобного развертования создал миграции для каждой таблицы. Для заполнения базы тестовыми данными написал фабрики и сидеры, использовал faker.

Настроил связь между моделями.

Добавил в проект библиотеку [Eloquent-Sluggable](https://github.com/cviebrock/eloquent-sluggable). Использовал в модели "Category" трейт "Sluggable", для заполнения slug.

В некоторых моделях определил геттеры для получения отформатированных данных, например даты.

Были созданны ресурсные роуты и контроллеры.

Так как в админке имеются сложные фильтры, принято решение логику фильтрации вынести в отдельные классы. В пространстве имен App\Filter создан класс QueryFilter который будет содержать в себе всю основную логику фильтрации которая будет общая для всех моделей. Под каждую модель будет создан класс, который будет наследоваться от QueryFilter и имень методы, названия которых будут такие же как названия параметров, по которым они будут фильтровать. Детально концепцыя работы данного фильтра описана [тут](https://habr.com/ru/post/485520/)

![image](https://user-images.githubusercontent.com/65047316/137360967-a6e8136f-1d88-44ae-996a-935996eb9d13.png)


## Front-end

Для работы с фронтенд частью сайта использовался Laravel-mix.
Вся фронтенд часть была разбита на отдельные компоненты стандартными средствами laravel-blade для многоразового использования. Также был использован SCSS.
Все выпадающие списки, для большей кастомизации были сделанны без использования стандартного тега select. Под капотом при помощи js данные вставляються в ```<input type="hidden">```.
Для выбора даты написал небольшой компонент даты. В нем также при помощи js данные вставляються в ```<input type="hidden">```

<img width="300" src="https://user-images.githubusercontent.com/65047316/137362704-c7c27b09-e245-45f6-9830-c5ba0dc61229.png">

При выводе данных в таблицу, в некоторых полях, есть значения, которые автоматически будут оформляться в другом виде, сигнализируя о статусе значения в этом поле или о том что значения поля не установленно. Если это значение измениться, то и оформление соответственно тоже.

![image](https://user-images.githubusercontent.com/65047316/137363637-1ce164d1-30e1-4e3e-a654-67c5cddce44c.png)


Если поле подразумевает вывод изображения и это изображение отсутствует, то также пользователь увидит стандартную картинку.

![image](https://user-images.githubusercontent.com/65047316/137364399-9906ceab-3517-4958-8bd8-a7123327b543.png)


Если количество записей будет больше допустимого, будет выводиться стандартная пагинация Laravel.
Пагинация корректно работает с фильтрами. Если был установленны параметры фильтрации, то пагиназыя будет работать только с отфильтрованными данными.


